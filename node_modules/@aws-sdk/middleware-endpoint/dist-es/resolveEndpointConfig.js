import { __assign, __awaiter, __generator } from "tslib";
import { normalizeProvider } from "@aws-sdk/util-middleware";
import { toEndpointV1 } from "./adaptors/toEndpointV1";
export var resolveEndpointConfig = function (input) {
    var _a, _b, _c;
    var tls = (_a = input.tls) !== null && _a !== void 0 ? _a : true;
    var endpoint = input.endpoint;
    var customEndpointProvider = endpoint != null ? function () { return __awaiter(void 0, void 0, void 0, function () { var _a; return __generator(this, function (_b) {
        switch (_b.label) {
            case 0:
                _a = toEndpointV1;
                return [4, normalizeProvider(endpoint)()];
            case 1: return [2, _a.apply(void 0, [_b.sent()])];
        }
    }); }); } : undefined;
    var isCustomEndpoint = !!endpoint;
    return __assign(__assign({}, input), { endpoint: customEndpointProvider, tls: tls, isCustomEndpoint: isCustomEndpoint, useDualstackEndpoint: normalizeProvider((_b = input.useDualstackEndpoint) !== null && _b !== void 0 ? _b : false), useFipsEndpoint: normalizeProvider((_c = input.useFipsEndpoint) !== null && _c !== void 0 ? _c : false) });
};
